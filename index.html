<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>üßä Himalayan Snow Monitor</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;800;900&display=swap" rel="stylesheet">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; background: #000; overflow-x: hidden; }

/* HEADER */
.navbar {
  position: fixed;
  top: 0;
  width: 100%;
  height: 96px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid #00aaff55;
  z-index: 1000;
}
.nav-title {
  font-size: clamp(2rem, 3.5vw, 3rem);
  font-weight: 900;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  background: linear-gradient(90deg, #0077ff, #00c6ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 18px rgba(0, 174, 255, 0.45);
  animation: titlePop 1.4s cubic-bezier(.19,1,.22,1) forwards;
  opacity: 0;
}
@keyframes titlePop {
  from { opacity: 0; transform: scale(0.92) translateY(-12px); filter: blur(3px); }
  to { opacity: 1; transform: scale(1) translateY(0); filter: blur(0); }
}

/* THEME TOGGLE */
.theme-toggle {
  position: fixed;
  top: 14px;
  right: 18px;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background: rgba(0, 0, 0, 0.65);
  color: white;
  font-size: 1.3rem;
  z-index: 1001;
}

/* HERO */
.hero {
  min-height: 100vh;
  background: url("background.png") no-repeat center center;
  background-size: cover;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  transition: background 0.6s ease;
  position: relative;
}
.hero.dimmed {
  background: rgba(0,0,0,0.25) url("background.png") no-repeat center center;
  background-size: cover;
}

/* EXPLORE BUTTON */
.explore-btn {
  position: absolute;
  left: 35%;
  top: 65%;
  transform: translateY(-50%);
  padding: 16px 36px;
  font-size: 1.4rem;
  font-weight: 700;
  color: #fff;
  background: linear-gradient(90deg, #0077ff, #00c6ff);
  border: none;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(0,0,0,0.45);
  transition: transform 0.2s;
  z-index: 100;
}
.explore-btn:hover {
  transform: translateY(-50%) scale(1.05);
}

/* MAP / IFRAME */
#mapFrame {
  width: 0;
  height: 0;
  border-radius: 12px;
  box-shadow: 0 30px 80px rgba(0,0,0,0.65);
  border: 1px solid #00aaff55;
  display: none;
  transition: all 1s cubic-bezier(.19,1,.22,1);
  z-index: 500;
  transform: translateY(50px);
}

/* SNOWFLAKES */
.hero .snowflakes {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 50;
  overflow: hidden;
}
.hero .snowflake {
  position: absolute;
  color: #fff;
  user-select: none;
  pointer-events: none;
  animation-name: fall, drift;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
}

/* Keyframes */
@keyframes fall {
  0% { transform: translateY(-50px); opacity: 1; }
  100% { transform: translateY(110vh); opacity: 0.2; }
}
@keyframes drift {
  0% { transform: translateX(0); }
  50% { transform: translateX(20px); }
  100% { transform: translateX(-20px); }
}

/* DARK MODE */
body.dark .navbar {
  background: rgba(18, 18, 18, 0.92);
  border-bottom: 1px solid #ffaa0055;
}
body.dark .nav-title {
  background: linear-gradient(90deg, #ffb703, #ffd166);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 18px rgba(255, 180, 0, 0.45);
}
body.dark .theme-toggle {
  background: rgba(255, 255, 255, 0.85);
  color: #222;
}
</style>
</head>
<body>

<div class="navbar">
  <div class="nav-title">Himalayan Snow Monitor</div>
</div>

<button class="theme-toggle">üåô</button>

<section class="hero">
  <button class="explore-btn">Explore</button>
  <iframe id="mapFrame" src="" allowfullscreen></iframe>
  <div class="snowflakes"></div>
</section>

<script>
// Theme toggle
const toggleBtn = document.querySelector(".theme-toggle");
toggleBtn.addEventListener("click", () => {
  document.body.classList.toggle("dark");
  toggleBtn.textContent = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
});

// Snowflakes
const snowContainer = document.querySelector('.hero .snowflakes');
for (let i = 0; i < 120; i++) {
  const flake = document.createElement('span');
  flake.classList.add('snowflake');
  flake.textContent = '‚ùÑ';
  flake.style.left = Math.random() * 100 + 'vw';
  flake.style.fontSize = (Math.random() * 20 + 10) + 'px';
  flake.style.animationDuration = `${Math.random() * 3 + 2}s, ${Math.random() * 3 + 3}s`;
  flake.style.animationDelay = `${Math.random() * 5}s, ${Math.random() * 5}s`;
  snowContainer.appendChild(flake);
}

// Explore button opens GEE App in iframe
const exploreBtn = document.querySelector(".explore-btn");
const mapFrame = document.getElementById("mapFrame");
const hero = document.querySelector(".hero");

exploreBtn.addEventListener("click", () => {
  exploreBtn.style.display = "none";
  hero.classList.add("dimmed");

  mapFrame.style.display = "block";
  mapFrame.style.width = "0";
  mapFrame.style.height = "0";

  // Animate the iframe expansion
  setTimeout(() => {
    mapFrame.style.width = "80%";
    mapFrame.style.height = "80vh";
  }, 50);

  // Set GEE App URL
  mapFrame.src = "https://sayantansaga17.users.earthengine.app/view/himalayan-snow-cover-monitor";
});
</script>

</body>
</html>
